---
title: 내보내기 & 가져오기
description: ERD를 다양한 형식으로 내보내고 가져오는 방법
---

# 내보내기 & 가져오기

완성된 ERD를 다양한 형식으로 내보내거나, 백업한 ERD를 가져올 수 있습니다.

## SQL 내보내기

ERD를 데이터베이스 DDL 스크립트로 변환합니다.

### MySQL 내보내기

**내보내기 단계:**
1. 툴바에서 **"내보내기"** 버튼 클릭
2. 데이터베이스 엔진에서 **"MySQL"** 선택
3. 옵션 설정:
   - ✅ Timestamp 필드 포함
   - ✅ Foreign Key 제약조건 포함
   - 스키마 이름: `mydb` (기본값)
4. **"SQL 다운로드"** 버튼 클릭

**생성되는 SQL 예시:**

```sql
-- MySQL 스키마 내보내기
CREATE SCHEMA IF NOT EXISTS `mydb` DEFAULT CHARACTER SET utf8mb4;
USE `mydb`;

CREATE TABLE IF NOT EXISTS `mydb`.`User` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `email` VARCHAR(255) NOT NULL,
  `password` VARCHAR(255) NOT NULL,
  `created_at` TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE INDEX `email_UNIQUE` (`email` ASC)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

CREATE TABLE IF NOT EXISTS `mydb`.`Post` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `user_id` INT NOT NULL,
  `title` VARCHAR(255) NOT NULL,
  `content` TEXT NULL,
  `created_at` TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  INDEX `fk_Post_User_idx` (`user_id` ASC)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

ALTER TABLE `mydb`.`Post` ADD CONSTRAINT `fk_Post_User`
  FOREIGN KEY (`user_id`)
  REFERENCES `mydb`.`User` (`id`)
  ON DELETE NO ACTION
  ON UPDATE NO ACTION;
```

**MySQL 특징:**
- ✅ AUTO_INCREMENT 자동 증가 ID
- ✅ InnoDB 엔진 사용
- ✅ utf8mb4 문자셋 (이모지 지원)
- ✅ TIMESTAMP 자동 업데이트 트리거
- ✅ 인덱스 자동 생성

### PostgreSQL 내보내기

**내보내기 단계:**
1. 툴바에서 **"내보내기"** 버튼 클릭
2. 데이터베이스 엔진에서 **"PostgreSQL"** 선택
3. 옵션 설정
4. **"SQL 다운로드"** 버튼 클릭

**생성되는 SQL 예시:**

```sql
-- PostgreSQL 스키마 내보내기
CREATE TABLE IF NOT EXISTS public.User (
  id SERIAL,
  email VARCHAR(255) NOT NULL UNIQUE,
  password VARCHAR(255) NOT NULL,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS public.Post (
  id SERIAL,
  user_id INT NOT NULL,
  title VARCHAR(255) NOT NULL,
  content TEXT,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (id),
  FOREIGN KEY (user_id) REFERENCES public.User (id)
);

-- User용 업데이트 트리거
CREATE OR REPLACE FUNCTION update_User_updated_at()
RETURNS TRIGGER AS $$
BEGIN
  NEW.updated_at = NOW();
  RETURN NEW;
END;
$$ LANGUAGE plpgsql;

CREATE TRIGGER update_User_updated_at
BEFORE UPDATE ON public.User
FOR EACH ROW EXECUTE FUNCTION update_User_updated_at();

-- Post용 업데이트 트리거
CREATE OR REPLACE FUNCTION update_Post_updated_at()
RETURNS TRIGGER AS $$
BEGIN
  NEW.updated_at = NOW();
  RETURN NEW;
END;
$$ LANGUAGE plpgsql;

CREATE TRIGGER update_Post_updated_at
BEFORE UPDATE ON public.Post
FOR EACH ROW EXECUTE FUNCTION update_Post_updated_at();
```

**PostgreSQL 특징:**
- ✅ SERIAL 자동 증가 타입
- ✅ 트리거 함수로 updated_at 자동 업데이트
- ✅ JSONB, Array 등 고급 타입 지원
- ✅ 강력한 제약조건 검증

### 내보내기 옵션 설명

| 옵션 | 설명 | 기본값 | 추천 |
|------|------|--------|------|
| **Timestamp 필드 포함** | `created_at`, `updated_at` 자동 생성 | ✅ 활성화 | ✅ 권장 |
| **Foreign Key 제약조건** | 외래키 관계를 ALTER TABLE로 생성 | ✅ 활성화 | ✅ 권장 |
| **스키마 이름** | 데이터베이스 스키마 이름 | mydb (MySQL)<br/>public (PostgreSQL) | 프로젝트명 사용 |

<Callout type="info">
**Timestamp 필드란?**

- `created_at`: 데이터 생성 시간 자동 기록
- `updated_at`: 데이터 수정 시간 자동 업데이트

대부분의 프로젝트에서 유용하므로 포함을 권장합니다.
</Callout>

### 데이터베이스에 적용하기

생성된 SQL 파일을 실제 데이터베이스에 적용하는 방법입니다.

**MySQL:**
```bash
# 명령줄에서 실행
mysql -u username -p database_name < schema.sql

# 또는 MySQL Workbench에서:
# File > Run SQL Script > schema.sql 선택
```

**PostgreSQL:**
```bash
# 명령줄에서 실행
psql -U username -d database_name -f schema.sql

# 또는 pgAdmin에서:
# Query Tool > Open File > schema.sql 선택 후 실행
```

<Callout type="warning">
**주의사항**

- 기존 테이블이 있는 경우 덮어씌워질 수 있습니다
- 프로덕션 환경에서는 백업 후 실행하세요
- Foreign Key 순서대로 실행됩니다 (부모 테이블이 먼저 생성됨)
</Callout>

## JSON 내보내기

ERD 데이터를 JSON 형식으로 백업할 수 있습니다.

### JSON 내보내기

**내보내기 단계:**
1. 툴바에서 **"내보내기"** 버튼 클릭
2. **"JSON 다운로드"** 선택
3. 파일이 자동으로 다운로드됩니다

**JSON 파일 구조:**

```json
{
  "version": "1.0.0",
  "entities": [
    {
      "id": "entity_1",
      "name": "User",
      "attributes": [
        {
          "name": "id",
          "type": "INT",
          "primaryKey": true,
          "nullable": false
        },
        {
          "name": "email",
          "type": "VARCHAR(255)",
          "nullable": false,
          "unique": true
        }
      ],
      "position": { "x": 100, "y": 100 }
    }
  ],
  "relationships": [
    {
      "id": "edge_1",
      "source": "entity_1",
      "target": "entity_2",
      "sourceAttribute": "id",
      "targetAttribute": "user_id",
      "type": "one-to-many",
      "identifying": false
    }
  ]
}
```

### 언제 사용하나요?

- ✅ 중요한 ERD를 백업하고 싶을 때
- ✅ 다른 프로젝트에서 비슷한 구조를 재사용하고 싶을 때
- ✅ 버전 관리 시스템(Git)에 ERD를 저장하고 싶을 때
- ✅ 팀원과 ERD를 공유하고 싶을 때

<Callout type="success">
JSON 백업은 엔티티 위치, 관계, 모든 속성 정보를 완벽하게 보존합니다!
</Callout>

### JSON 가져오기

백업한 JSON 파일을 불러올 수 있습니다.

**가져오기 단계:**
1. 툴바에서 **"가져오기"** 버튼 클릭
2. 백업한 `.json` 파일 선택
3. ERD가 캔버스에 복원됩니다

<Callout type="danger">
**주의**: 가져오기를 하면 현재 작업 중인 ERD가 교체됩니다. 필요시 먼저 백업하세요!
</Callout>

## PNG 이미지 내보내기

ERD를 이미지 파일로 저장하여 문서나 프레젠테이션에 활용할 수 있습니다.

### PNG 내보내기

**내보내기 단계:**
1. 툴바에서 **"PNG 다운로드"** 클릭
2. 현재 화면의 다이어그램이 이미지 파일로 저장됩니다

**활용 방법:**
- 📄 기술 문서에 ERD 첨부
- 📊 프레젠테이션 자료 작성
- 💬 팀 채팅방에 ERD 공유
- 📋 요구사항 문서 작성

<Callout type="info">
**PNG 해상도**

Erdia는 고해상도 PNG 이미지를 생성하여 확대해도 선명합니다.
</Callout>

## 실전 예시

### 프로젝트 백업 워크플로우

**시나리오:** 쇼핑몰 ERD를 설계하고 Git에 버전 관리

**1단계: ERD 설계**
```
💬 "쇼핑몰 ERD 만들어줘"
```

**2단계: JSON 백업**
1. "내보내기" → "JSON 다운로드"
2. 파일명: `shopping-mall-erd-v1.json`

**3단계: Git 저장**
```bash
git add docs/shopping-mall-erd-v1.json
git commit -m "Add: 쇼핑몰 ERD 초안"
git push
```

**4단계: SQL 생성 및 적용**
1. "내보내기" → "MySQL" 선택
2. 스키마 이름: `shopping_db`
3. SQL 다운로드
4. 데이터베이스 적용:
```bash
mysql -u root -p shopping_db < schema.sql
```

### 팀원과 협업하기

**시나리오:** 팀원에게 ERD를 전달하고 피드백 받기

**방법 1: JSON 파일 공유**
1. JSON 내보내기
2. Slack/Teams로 파일 전송
3. 팀원이 JSON 가져오기로 열람

**방법 2: PNG 이미지 공유**
1. PNG 다운로드
2. 채팅방에 이미지 첨부
3. 빠른 피드백 수집

**방법 3: SQL 공유**
1. SQL 파일 생성
2. Git 레포지토리에 커밋
3. 팀원이 직접 데이터베이스에 적용

## 파일 형식 비교

| 형식 | 용도 | 편집 가능 | 크기 | 추천 상황 |
|------|------|----------|------|----------|
| **JSON** | 백업/재사용 | ✅ Erdia에서 가능 | 작음 | 버전 관리, 팀 협업 |
| **SQL** | DB 배포 | ❌ 텍스트 편집기만 | 중간 | 데이터베이스 생성 |
| **PNG** | 문서화 | ❌ 이미지 뷰어만 | 큼 | 프레젠테이션, 문서 |

## 문제 해결

### SQL 파일이 실행되지 않아요

**원인 1: 잘못된 데이터베이스 엔진**
- 해결: MySQL용 SQL은 MySQL에서만, PostgreSQL용 SQL은 PostgreSQL에서만 실행하세요

**원인 2: 스키마 이름 불일치**
- 해결: SQL 파일에서 스키마 이름을 실제 DB와 일치시키세요

**원인 3: Foreign Key 순서 오류**
- 해결: 부모 테이블이 먼저 생성되어야 합니다. SQL 파일은 올바른 순서로 작성되므로 전체 파일을 실행하세요

### JSON 가져오기가 안 돼요

**원인 1: 잘못된 JSON 형식**
- 해결: Erdia에서 생성한 JSON 파일만 가져올 수 있습니다

**원인 2: 파일 손상**
- 해결: 파일을 텍스트 편집기로 열어 JSON 형식이 올바른지 확인하세요

### PNG 이미지 품질이 낮아요

**해결 방법:**
1. 캔버스 확대 후 PNG 다운로드
2. 또는 브라우저 해상도 설정 확인

<Callout type="info">
**향후 업데이트**: PDF, SVG 내보내기 기능이 추가될 예정입니다.
</Callout>

## 다음 단계

- [가격 정책](/docs/pricing) - 무료 플랜과 Pro 플랜 비교
- [FAQ](/docs/faq) - 자주 묻는 질문과 답변
